{% extends 'base.html' %}
{% block navigation %}
    {% include 'website_analyzer/analyst_nav.html' %}
    <h4>Page Navigation</h4>
<div class="pagination">
    <span class="step-links">
        {% if websites.has_previous %}
            <a href="?page={{ websites.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ websites.number }} of {{ websites.paginator.num_pages }}.
        </span>

        {% if websites.has_next %}
            <a href="?page={{ websites.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>
{% endblock %}
{% block content %}
<h3>View Websites</h3>
<table>
    <tr>
        <th style="padding:3px;">No</th>
        <th style="padding:3px;">Website Name</th>
        <th style="padding:3px;">Date Added</th>
        <th style="padding:3px;">Scam?</th>
        <th style="padding:3px;">Whitelist?</th>
        <th style="padding:3px;">Inspected?</th>
        <th style="padding:3px;">Reported?</th>
        <th style="padding:3px;">Accessible?</th>
        <th style="padding:3px;">Page<br />Count?</th>
        <th style="padding:3px;">Action</th>
    </tr>
    {% for web in websites %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td><span title="{{ web.name }}">{{ web.name|truncatechars:25 }}</span></td>
        <td>{{ web.date_added|date:"b d, Y" }}</td>
        <td>{{ web.scam }}</td>
        <td>{{ web.whitelist }}</td>
        <td>{{ web.inspection }}</td>
        <td>{{ web.report }}</td>
        <td>{{ web.access }}</td>
        <td>{{ web.web_count }}</td>
        <td><a href="{% url 'website_analyzer:analyze_website' web.id %}">Analyze</a></td>
    </tr>
    {% empty %}
        Website database is empty
    {% endfor %}
</table>
{% endblock %}
