{% extends 'base.html' %}
{% block navigation %}
    {% include 'website_analyzer/analyst_nav.html' %}
    <h4>Navigasi halaman</h4>
<div class="pagination">
    <span class="step-links">
        {% if analyst_results.has_previous %}
            <a href="?page={{ analyst_results.previous_page_number }}">sebelumnya</a>
        {% endif %}

        <span class="current">
            Halaman {{ analyst_results.number }} dari {{ analyst_results.paginator.num_pages }}.
        </span>

        {% if analyst_results.has_next %}
            <a href="?page={{ analyst_results.next_page_number }}">selanjutnya</a>
        {% endif %}
    </span>
</div>
{% endblock %}
{% block content %}
<h3>Daftar hasil analisa</h3>
<table>
    <tr>
        <th style="padding:3px;">No</th>
        <th style="padding:3px;">Halaman web</th>
        <th style="padding:3px;">Waktu analisa</th>
        <th style="padding:3px;">Parameter analisa</th>
        <th style="padding:3px;">Apakah ditemukan?</th>
        <th style="padding:3px;">Tindakan selanjutnya</th>
    </tr>
    {% for result in filtered_results %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td><a href="{% url 'website_management:webpage_detail' result.webpage.id %}">
                <span title="{{ result.webpage.url }}">
                    {{ result.webpage.url|truncatechars:60 }}</span></a></td>
        <td>{{ result.analyze_time|date:"H:i d-m-Y" }}</td>
        <td>{{ result.string_parameter }}</td>
        <td>{{ result.find|yesno:"Ya, Tidak" }}</td>
        <td><a href="{% url 'website_analyzer:analyze_website' result.webpage.homepage_id %}">
                Analisa</a></td>
    </tr>
    {% empty %}
        <td> - </td>
        <td> - </td>
        <td> - </td>
        <td> - </td>
        <td> - </td>
    {% endfor %}
</table>
{% endblock %}
